{
  "version": 2,
  "buildCommand": "cd frontend && npm install && npm run build",
  "outputDirectory": "frontend/dist",
  "installCommand": "npm install --legacy-peer-deps",
  "functions": {
    "api/**/*.js": {
      "runtime": "@vercel/node@3.2.14"
    }
  },
  "routes": [
    {
      "src": "/api/auth/login",
      "dest": "/api/auth/login.js"
    },
    {
      "src": "/api/auth/register",
      "dest": "/api/auth/register.js"
    },
    {
      "src": "/api/auth/me",
      "dest": "/api/auth/me.js"
    },
    {
      "src": "/api/chat",
      "dest": "/api/chat/index.js"
    },
    {
      "src": "/api/conversations",
      "dest": "/api/conversations/index.js"
    },
    {
      "src": "/api/conversations/(.*)",
      "dest": "/api/conversations/[id].js"
    },
    {
      "src": "/api/documents",
      "dest": "/api/documents/index.js"
    },
    {
      "src": "/api/documents/(.*)",
      "dest": "/api/documents/[id].js"
    },
    {
      "src": "/api/metrics",
      "dest": "/api/metrics/index.js"
    },
    {
      "src": "/(.*)",
      "dest": "/frontend/dist/$1"
    }
  ],
  "env": {
    "VITE_API_URL": "/api",
    "VITE_SUPABASE_URL": "https://oaajzlwfbuxeottcydgi.supabase.co",
    "VITE_SUPABASE_ANON_KEY": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9hYWp6bHdmYnV4ZW90dGN5ZGdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0NDIxMDksImV4cCI6MjA3ODAxODEwOX0.mKHgJlJeqFOVg16DAQQiUgrWwLNooByMqp7zslDgj4k"
  }
}
